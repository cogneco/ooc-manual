<!DOCTYPE html>
<html>
	<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<title> Values &middot; The OOC Manual </title>
	
	<link rel="stylesheet" href="http://oocmanual.cogneco.com/css/reset.css">
	<link rel="stylesheet" href="http://oocmanual.cogneco.com/css/text.css">
	<link rel="stylesheet" href="http://oocmanual.cogneco.com/css/color.css">
	<link rel="stylesheet" href="http://oocmanual.cogneco.com/css/layout.css">
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://oocmanual.cogneco.com/apple-touch-icon-144-precomposed.png">
	<link rel="shortcut icon" href="http://oocmanual.cogneco.com/favicon.ico">
	
	<link href="" rel="alternate" type="application/rss+xml" title="The OOC Manual" />
</head>

	<body>
		<header>
  <h1><a href="http://oocmanual.cogneco.com">The OOC Manual</a></h1>
  <p></p>
</header>

		<nav>
	<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/introduction">Introduction</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language">Language</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/modules">Modules</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/values">Values</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/tuples">Tuples</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/control-structures">Control Structures</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/collections">Collections</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/functions">Functions</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/first-class-functions">First-class Functions</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/classes">Classes</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/constructors">Constructors</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/properties">Properties</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/operators">Operators</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/interfaces">Interfaces</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/covers">Covers</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/covers-vs-classes">Covers vs Classes</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/enumerations">Enumerations</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/generics">Generics</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/generics2">Generics 2</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/exceptions">Exceptions</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/preprocessor">Preprocessor</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/language/version-blocks">Version</a>
		
	</li>
	
</ul>


		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools">Tools</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock">Rock</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/basic">Basic Usage</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/drivers">Drivers</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/advanced">Advanced Usage</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/use-files">Use-files</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/use-files2">Use-files 2</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/gc">Garbage Collection</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/debug">Debugging</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/rock/packaging">Packaging</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/sam">Sam</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/tools/editors">Editors</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/troubleshooting">Troubleshooting</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk">sdk</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/lang">lang</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/lang/types">types</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/lang/string">string</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/lang/numbers">numbers</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/lang/iterators">iterators</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/lang/exceptions">exception</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/lang/memory">memory</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/structs">structs</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/io">io</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/math">math</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os">os</a>
		
		<ul>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/process">process</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/jobpool">jobpool</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/coro">coro</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/terminal">terminal</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/pipe">pipe</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/dynlib">dynlib</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/mmap">mmap</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/channel">channel</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/system">system</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/env">env</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/shellutils">shellutils</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/os/time">time</a>
		
	</li>
	
</ul>


		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/net">net</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/text">text</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/threading">threading</a>
		
	</li>
	
	<li>
		<a href="http://oocmanual.cogneco.com/sdk/native">native</a>
		
	</li>
	
</ul>


		
	</li>
	
</ul>


</nav>


		<main>
			<header>
				<h1>Values</h1>
			</header>
			<nav id="TableOfContents">
<ul>
<li><a href="#toc_0">Values</a></li>
<li><a href="#toc_1">Numbers</a>
<ul>
<li><a href="#toc_2">Integer types</a></li>
<li><a href="#toc_3">Floating point types</a></li>
<li><a href="#toc_4">Integer Ranges</a></li>
</ul></li>
<li><a href="#toc_5">Text</a>
<ul>
<li><a href="#toc_6">Characters</a></li>
<li><a href="#toc_7">Strings</a></li>
<li><a href="#toc_8">String interpolation</a></li>
<li><a href="#toc_9">Raw strings</a></li>
</ul></li>
<li><a href="#toc_10">Variables</a></li>
<li><a href="#toc_11">Functions</a></li>
<li><a href="#toc_12">Pointers</a></li>
<li><a href="#toc_13">References</a></li>
<li><a href="#toc_14">Covers vs Classes</a></li>
<li><a href="#toc_15">Enums</a></li>
</ul>
</nav>
			<article>
				

<h1 id="toc_0">Values</h1>

<p>Values are just a fancy term for data - in fact, most of what programs
do is to manipulate data, to compute numbers from other numbers, to process
strings, etc.</p>

<p>The type of nothing is <code>Void</code>, based on C&rsquo;s <code>void</code> type.</p>

<h1 id="toc_1">Numbers</h1>

<p>There are two classes of numbers built into the language. Integers, like <code>3</code>,
<code>-45</code> or <code>124_500</code>, and reals, like <code>3.14</code> or <code>-0.124_325_963</code>. Underscores
in number literals are ignored, thus they are purely cosmetic, allowing numbers
to be expressed in code in a more human-friendly way.</p>

<h2 id="toc_2">Integer types</h2>

<p>There are fixed-length integer types, like:</p>

<table class="pretty">
<tbody>

<tr>
<td>ooc types</td>
<td>Width</td>
</tr>

<tr>
<td>Int8, UInt8</td>
<td>8</td>
</tr>

<tr>
<td>Int16, UInt16</td>
<td>16</td>
</tr>

<tr>
<td>Int32, UInt32</td>
<td>32</td>
</tr>

<tr>
<td>Int64, UInt64</td>
<td>64</td>
</tr>

</tbody>
</table>

<p>And others, mapped on C types:</p>

<table class="pretty">
<tbody>

<tr>
<td>ooc types</td>
<td>C types</td>
<td>Width</td>
</tr>

<tr>
<td>Char, UChar</td>
<td>signed char, unsigned char</td>
<td>8</td>
</tr>

<tr>
<td>Short, UShort</td>
<td>signed short, unsigned short</td>
<td>at least 16</td>
</tr>

<tr>
<td>Int, UInt</td>
<td>signed int, unsigned int</td>
<td>at least 16</td>
</tr>

<tr>
<td>Long, ULong</td>
<td>signed long, unsigned long</td>
<td>at least 32</td>
</tr>

<tr>
<td>LLong, ULLong</td>
<td>signed long long, unsigned long long</td>
<td>at least 32</td>
</tr>

</tbody>
</table>

<p>There are several type of integer literals. Decimal literals are the most
common, but octal, hexadecimal, and binary literals exist as well, for
example:</p>

<pre><code>#!ooc
75 // decimal
0c113 // octal
0x4b // hexadecimal
0b1001011 // binary
</code></pre>

<h2 id="toc_3">Floating point types</h2>

<p>Similarly, real number types are based on C types:</p>

<table class="pretty">
<tbody>

<tr>
<td>ooc types</td>
<td>C types</td>
<td>Width</td>
</tr>

<tr>
<td>Float</td>
<td>float</td>
<td>32</td>
</tr>

<tr>
<td>Double</td>
<td>double</td>
<td>64</td>
</tr>

<tr>
<td>Double</td>
<td>double</td>
<td>64</td>
</tr>

<tr>
<td>LDouble</td>
<td>long double</td>
<td>64, 80, 96</td>
</tr>

</tbody>
</table>

<h2 id="toc_4">Integer Ranges</h2>

<p>Any two values of integer type separated by two dots is a range. For example,
this prints &ldquo;Hello&rdquo; ten times:</p>

<pre><code>#!ooc
for (i in 0..10) {
    // i takes values from 0 to 9
    &quot;Hello&quot; println()
}
</code></pre>

<h1 id="toc_5">Text</h1>

<h2 id="toc_6">Characters</h2>

<p>A character in ooc is akin to a byte, it&rsquo;s not a Unicode character. A character literal
is enclosed in single quotes, and supports the following escape codes:</p>

<pre><code>#!ooc
'a' // regular character
'\\' // literal backslash
'\'' // single quote
'\n' // new line
'\r' // carriage return
'\b' // backspace
'\t' // horizontal tab
'\f' // form feed
'\a' // alert (bell)
'\v' // vertical tab
'\nnn' // character with octal value nnn
'\xhh' // character with hexadecimal value hh
</code></pre>

<p>Multi-character literals are syntax errors, e.g. <code>'abcd'</code> is invalid.</p>

<p>The ooc type <code>Char</code> is based on the C type <code>char</code>.</p>

<h2 id="toc_7">Strings</h2>

<p>There are two types of strings in ooc. <code>CString</code> is a cover from <code>Char*</code> and
is a vanilla C string, null-terminated. <code>String</code> is a class that contains a
length and may be implemented however the implementor chooses.</p>

<p>A string literal is enclosed in double quotes, gives an ooc <code>String</code>, and supports
the following escape codes:</p>

<pre><code>#!ooc
&quot;a&quot; // regular character
&quot;\\&quot; // literal backslash
&quot;\&quot;&quot; // double quote
&quot;\n&quot; // new line
&quot;\r&quot; // carriage return
&quot;\b&quot; // backspace
&quot;\t&quot; // horizontal tab
&quot;\f&quot; // form feed
&quot;\a&quot; // alert (bell)
&quot;\v&quot; // vertical tab
&quot;\nnn&quot; // character with octal value nnn
&quot;\xhh&quot; // character with hexadecimal value hh
</code></pre>

<h2 id="toc_8">String interpolation</h2>

<p>ooc&rsquo;s string interpolation syntax is inspired by Ruby&rsquo;s:</p>

<pre><code>#!ooc
&quot;Hello, my name is #{name} and I am #{age} years old.&quot; println()
</code></pre>

<p>Numeric and stringy types are handled correctly by interpolated strings. For
all other types, a <code>toString()</code> call is added. Object types that do not have
a <code>toString()</code> method, when used in an interpolated string, will trigger a
compile error.</p>

<h2 id="toc_9">Raw strings</h2>

<p>A raw string literal is enclosed in double quotes and preceded by <code>c</code> without spaces,
for example this will be of type <code>CString</code>, not <code>String</code>:</p>

<pre><code>#!ooc
puts(c&quot;Some like em raw.&quot;)
</code></pre>

<p>Raw strings can be used to avoid extra allocations. One would hope that one day compilers
would be smart enough to avoid that on their own, but in the meantime, one could roll
their own implementations using only raw strings.</p>

<h1 id="toc_10">Variables</h1>

<p>A value can also be simply a variable declaration or a variable access, for example:</p>

<pre><code>#!ooc
a := &quot;Hello&quot; // this evaluates to &quot;Hello&quot;
a // so does this
</code></pre>

<p>The <code>:=</code> operator is the declare-assign operator. It creates a new variable slot, infers
its type from the right-hand-side value, and assigns the value to the variable. The same
code can be rewritten like so:</p>

<pre><code>#!ooc
a: String = &quot;Hello&quot; // this evaluates to &quot;Hello&quot;
a // this too
</code></pre>

<p>Or, in even longer form:</p>

<pre><code>#!ooc
a: String
a = &quot;Hello&quot; // this evaluates to &quot;Hello&quot;
a // this too
</code></pre>

<p>The same applies inside a class declaration:</p>

<pre><code>#!ooc
Dog: class {
  age := 23

  init: func {
    age // this evalutes to 23
  }
}

dog := Dog new()
dog age // this evalutes to 23 as well
</code></pre>

<h1 id="toc_11">Functions</h1>

<p>Functions are values as well. For example:</p>

<pre><code>#!ooc
Dog: class {
  bark: func { &quot;Woof!&quot; println() }
}

Dog bark // this is a value
a := func { &quot;Waf&quot; println() } // this is a value as well
a // and so is this
</code></pre>

<p>Functions are of type <code>Func</code>. Its syntax resembles a function definition.
For example, <code>Func (Int, Int) -&gt; Int</code> is the type of a function that takes
two integers and returns an integer. Both the argument list and the return
type are optional.</p>

<h1 id="toc_12">Pointers</h1>

<p>Pointers are references to a region of memory. For example,</p>

<pre><code>#!ooc
Dog: class {
  age := 23
}

dog := Dog new()
age := dog age
age = 23 // `dog age` is still 23

agePtr := dog age&amp;
agePtr@ = 42 // `dog age` is now 42
</code></pre>

<p>Post-fixing with <code>&amp;</code> takes the address of something. Post-fixing
with <code>@</code> returns the value a pointer points to.</p>

<p>The type of a pointer is <code>Type*</code> where Type is the underlying type, for
example, <code>Int*</code> is a pointer to an Int. To accept or return any kind of
pointer, the catch-all <code>Pointer</code> type can be used.</p>

<h1 id="toc_13">References</h1>

<p>References are a variant of pointers especially useful in functions.</p>

<p>Here&rsquo;s a <code>mul2</code> function with pointers:</p>

<pre><code>#!ooc
mul2: func (var: Int*) {
  var@ *= 2
}

a := 12
mul2(a&amp;)
a // now evalutes to 24
</code></pre>

<p>And here&rsquo;s the same with references:</p>

<pre><code>#!ooc
mul2: func (var: Int@) {
  var *= 2
}

a := 12
mul2(a&amp;)
a // now evalutes to 24
</code></pre>

<p>Notice that the function still neds to be called with a pointer, in this
case <code>a&amp;</code>. This is so that the caller is aware that the variable being
passed might be modified by the function.</p>

<p>However, inside the body of a function using a by-reference parameter, there
is no need to dereference it (postfix it <code>@</code>) every time it is being accessed
or assigned.</p>

<h1 id="toc_14">Covers vs Classes</h1>

<p>Objects are references, like in Java. For example, the following:</p>

<pre><code>#!ooc
Container: class {
  value := 19
}

modify: func (c: Container) {
  c value = 23
}

c := Container new()
modify(c)
c value // now evalutes to 23
</code></pre>

<p>However, covers are passed by value, see:</p>

<pre><code>#!ooc
Container: cover {
  value: Int
}

modify: func (c: Container) {
  // woops, we're modifying a copy of the original
  c value = 23
}

c: Container
c value = 19
modify(c)
c value // still evalutes to 19
</code></pre>

<p>The same applies inside methods of covers - by default,
they apply to a copy of the cover. To be able to modify
the content of a cover, use <code>func@</code> instead.</p>

<pre><code>#!ooc
Container: cover {
  value: Int
  setValue: func@ (.value) {
    // since we're using `func@`, `this` is a reference
    this value = value
  }
}
</code></pre>

<p>Hence, any cover constructor should be defined with <code>func@</code>,
like so:</p>

<pre><code>#!ooc
Container: cover {
  value: Int
  init: func@ (=value)
}
</code></pre>

<h1 id="toc_15">Enums</h1>

<p>By default, enums are backed by <code>Int</code>s. However, that&rsquo;s transparent.
A value from an enum will be of the type of the enum. See:</p>

<pre><code>#!ooc
// defining a new type named 'State'
State: enum {
  // .. with two possible values
  AWAKE
  ASLEEP
}

// currentState is of type 'State'
currentState := State AWAKE

// only accepts values of type 'State'
isAsleep?: func (s: State) -&gt; Bool {
  (s == State ASLEEP)
}
</code></pre>

			</article>
			<footer>
				<p><span id="footer-copyright">2009-2014 Amos Wenger</span><span id="footer-license">CC BY-SA 3.0</span></p>
			</footer>
		</main>
		<footer>
  <p></p>
</footer>

	</body>
</html>
